db.users.createIndex({ "account.token": 1 });
db.users.createIndex({ "stats.sp": -1 }, { name: "stats.sp_-1" });
db.users.createIndex(
  { "account.nickname": 1 },
  { 
    unique: true,
      collation: {
      locale: "en",
      strength: 2,         // case-insensitive, diacritic-insensitive
      caseLevel: false
    }
  }
);


// 1. Unique index on account.username
db.users.createIndex(
  { "account.username": 1 },
  { unique: true }
);

// 2. Compound index on account.username and inventory.items
db.users.createIndex(
  { "account.username": 1, "inventory.items": 1 }
);

// 3. Index on inventory.weapons (multikey)
db.users.createIndex(
  { "inventory.weapons": 1 }
);

// 4. Index on account.token (for session/token validation)
db.users.createIndex(
  { "account.token": 1 }
);

// 5. Index on account.last_login (for activity sorting/filtering)
db.users.createIndex(
  { "account.last_login": -1 }
);

// 6. Optional: index on account.lastping (for online presence tracking)
db.users.createIndex(
  { "account.lastping": -1 }
);
